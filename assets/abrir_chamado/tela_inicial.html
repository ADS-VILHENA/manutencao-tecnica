<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Arima+Madurai|Kaushan+Script|Rubik+Mono+One|Salsa&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Abrir chamado</title>
</head>

<body>
    <header >
        <div class="container-fluid h-100">
            <div class="row form-cadastro justify-content-center "> 
                <div class="col-md-3 align-self-center area-form">
                    <div>
                        <h1 class="text-left bg-success d-block text-white p-3" style="font-size: 20px;">Suporte</h1>
                    </div>
                </div>
            </div>
        </div>  
    </header>
    <main>
        <div class="container-fluid h-100">
            <div class="row form-cadastro justify-content-center">
                <div class="col-md-3 align-self-center area-form">        
                    <div>
                
                        <img src="../images/fabrica-manutencao-logo 2.png" class="mx-auto d-block mt-5"/>
                </div>
                <div>
                    <h1 class="text-center text-gray p-3" style="font-size: 20px;">Bem vindo ao suporte</h1>
                </div>
                <div>
                   <em> <h1 class="text-center text-gray p-3" style="font-size: 15px;">*Escaneie o QRCode para abrir chamado.</h1></em>
                </div>
                <div>
                    <div>
                        <script type="text/javascript" src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js" ></script>	
                      <video id="preview"></video>
                      <script>
                          function lerQRCode(){

                        
                          let scanner = new Instascan.Scanner(
                              {
                                  video: document.getElementById('preview')
                              }
                          );
                          scanner.addListener('scan', function(content) {
                              alert('Escaneou o conteudo: ' + content);
                              window.open(content, "_self");
                          });
                          Instascan.Camera.getCameras().then(cameras => 
                          {
                              if(cameras.length > 0){
                                  scanner.start(cameras[0]);
                              } else {
                                  console.error("Não existe câmera no dispositivo!");
                              }
                          })
                        }
                      </script></div>

                 <a href="#"><img src="../images/QRcode.png" onclick="lerQRCode().style.display = 'none';" class="mx-auto d-block mt-5"/></a>
                    </div>
         
                <div>
                    <button type="button" onclick="lerQRCode()" class="mx-auto d-block btn btn-primary mt-4" >Ler QRCode</button>
                </div>
               
            
           
                <h1 class="text-center text-gray p-3" style="font-size: 20px;">Ou</h1>

                <form action="/exibir/formulario" method="post">
                    <input type="text" class="mx-auto form-control" style="width: 40%;" name="codigo" id="codigo">
                    <button type="submit" class="mx-auto d-block btn btn-success mt-2 ">Informar o código</button>
                </form>
        </div>
        
    </div>
            </div>
        </div>
    </main>


    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>